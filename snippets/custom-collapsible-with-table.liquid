{{ 'custom-collapsible-with-table.css' | asset_url | stylesheet_tag }}

<div
  class="dc-collapsible-with-table"
  style="
    background-color:{{ block.settings.background_color }};
    margin-top:{{ block.settings.margin_top }}px;
    margin-bottom:{{ block.settings.margin_bottom }}px;
    border:1px solid {{ block.settings.border_color }};
  "
>
  {% if block.settings.header_text != blank %}
    <p
      class="dc-collapsible-with-table__title"
      style="color:{{ block.settings.text_color }}; border-bottom: 1px solid {{ block.settings.border_color }}"
    >
      {{ block.settings.header_text }}
    </p>
  {% endif %}
  <div class="dc-collapsible-with-table__list">
    {% for i in (1..3) %}
      {% capture icon_key %}info_icon_{{ i }}{% endcapture %}
      {% capture title_key %}info_title_{{ i }}{% endcapture %}
      {% capture paragraph_key %}info_paragraph_{{ i }}{% endcapture %}

      {% assign icon = block.settings[icon_key] %}
      {% assign title = block.settings[title_key] %}
      {% assign paragraph = block.settings[paragraph_key] %}

      {% if title != blank %}
        <div
          class="dc-collapsible-with-table__item"
          {% unless forloop.last %}
            style="border-bottom:1px solid {{ block.settings.border_color }}"
          {% endunless %}
        >
          <div
            class="dc-collapsible-with-table__header"
            role="button"
            tabindex="0"
            aria-expanded="false"
          >
            <div class="dc-collapsible-with-table__left">
              {% if icon != blank %}
                <img
                  class="dc-collapsible-with-table__icon"
                  src="{{ icon | image_url }}"
                  alt=""
                  loading="lazy"
                  width="{{ image.width }}"
                  height="{{ image.height }}"
                >
              {% endif %}

              <p style="color: {{ block.settings.text_color }};">
                {{ title }}
              </p>
            </div>

            <span class="dc-collapsible-with-table__chevron" style="color: {{ block.settings.text_color }};">â€º</span>
          </div>

          {% if paragraph != blank %}
            <div class="dc-collapsible-with-table__content">
              <p style="color: {{ block.settings.text_content_color }};">
                {{ paragraph }}
              </p>

              <div class="dc_inner-table">
                <div class="dc_inner-table_cell dc_inner-table_cell-left">Product</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-right">Price</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-left">Laptop Computer</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-right">$899.99</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-left">Wireless Mouse</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-right">$24.99</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-left">Mechanical Keyboard</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-right">$79.99</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-left">27-inch Monitor</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-right">$249.99</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-left">USB-C Hub</div>
                <div class="dc_inner-table_cell dc_inner-table_cell-right">$34.99</div>
              </div>
            </div>
          {% endif %}
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>
<script src="{{ 'custom-collapsible-with-table.js' | asset_url }}" defer></script>
